/* ============================================
   CORRECTIONS DÉBORDEMENTS (OVERFLOW) - ShopLux
   ============================================ */

/* ============================================
   1. FIX GLOBAL - Empêcher tout débordement
   ============================================ */

/* Empêcher le débordement horizontal global */
* {
  box-sizing: border-box;
}

html,
body {
  overflow-x: hidden !important;
  max-width: 100vw;
  position: relative;
}

/* Tous les conteneurs */
.container,
main,
section,
div {
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* ============================================
   2. HEADER - Top Bar qui déborde
   ============================================ */

@media (max-width: 768px) {
  /* Top bar qui se coupe */
  header .bg-gradient-primary .container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Email - cacher sur très petits écrans */
  header .bg-gradient-primary .flex.items-center.space-x-6 > span:first-child {
    display: none;
  }

  /* Message "Livraison gratuite" qui déborde */
  header .bg-gradient-primary .flex.items-center.space-x-2 {
    flex-shrink: 1;
    min-width: 0;
  }

  header .bg-gradient-primary .flex.items-center.space-x-2 > span {
    font-size: 0.65rem !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Réduire les marges */
  header .bg-gradient-primary .flex.justify-between {
    gap: 0.25rem;
  }

  header .bg-gradient-primary .flex.items-center.space-x-6,
  header .bg-gradient-primary .flex.items-center.space-x-2 {
    gap: 0.25rem !important;
  }

  header .bg-gradient-primary svg {
    flex-shrink: 0;
  }
}

/* iPhone SE et très petits écrans */
@media (max-width: 375px) {
  header .bg-gradient-primary .flex.items-center.space-x-2 > span {
    font-size: 0.6rem !important;
  }
}

/* ============================================
   3. TEXTE QUI DÉBORDE
   ============================================ */

/* Tous les titres */
h1, h2, h3, h4, h5, h6 {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Tous les paragraphes */
p, span, a, li {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Texte dans les cards */
.bg-white h3,
.bg-white p,
.rounded-2xl h3,
.rounded-2xl p {
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
}

/* Noms de produits longs */
@media (max-width: 640px) {
  .group.bg-white h3 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .group.bg-white .text-sm {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* ============================================
   4. GRILLE PRODUITS - Cards qui débordent
   ============================================ */

@media (max-width: 640px) {
  /* Grille responsive */
  .grid {
    display: grid;
    max-width: 100%;
    grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  }

  /* Cards produits */
  .group.bg-white,
  .bg-white.rounded-2xl {
    min-width: 0;
    max-width: 100%;
  }

  /* Images dans les cards */
  .group.bg-white img,
  .rounded-2xl img {
    width: 100%;
    height: auto;
    max-width: 100%;
  }

  /* Boutons dans les cards */
  .group.bg-white button {
    font-size: 0.75rem !important;
    padding: 0.5rem 0.75rem !important;
    white-space: nowrap;
  }
}

/* ============================================
   5. TOAST NOTIFICATIONS - Débordent sur mobile
   ============================================ */

@media (max-width: 640px) {
  /* Toast container */
  .fixed.top-4.right-4 {
    right: 0.5rem !important;
    left: 0.5rem !important;
    top: 0.5rem !important;
    max-width: calc(100vw - 1rem) !important;
  }

  /* Toast content */
  .fixed.top-4.right-4 > div {
    max-width: 100% !important;
    width: 100% !important;
  }

  /* Message toast */
  .fixed.top-4.right-4 p {
    word-wrap: break-word;
    overflow-wrap: break-word;
    font-size: 0.875rem !important;
  }
}

/* ============================================
   6. DROPDOWN MENUS - User menu qui déborde
   ============================================ */

@media (max-width: 768px) {
  /* User dropdown */
  header .absolute.right-0.mt-3 {
    right: 0 !important;
    left: auto !important;
    max-width: calc(100vw - 2rem) !important;
    width: 90vw !important;
  }

  /* Texte dans le dropdown */
  header .absolute.right-0.mt-3 p,
  header .absolute.right-0.mt-3 span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Email dans le dropdown */
  header .absolute.right-0.mt-3 .text-sm.text-gray-500 {
    font-size: 0.75rem !important;
  }
}

/* ============================================
   7. TABLEAUX - Admin tables qui débordent
   ============================================ */

@media (max-width: 768px) {
  /* Container pour tableaux */
  table {
    display: block;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Wrapper pour scroll horizontal */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Texte dans tableaux */
  table td,
  table th {
    white-space: nowrap;
    padding: 0.5rem !important;
    font-size: 0.75rem !important;
  }

  /* Boutons dans tableaux */
  table button {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
  }
}

/* ============================================
   8. FORMULAIRES - Inputs larges
   ============================================ */

@media (max-width: 768px) {
  /* Tous les inputs */
  input,
  select,
  textarea {
    max-width: 100% !important;
    width: 100% !important;
    box-sizing: border-box;
  }

  /* Labels longs */
  label {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Flex forms */
  form .flex {
    flex-wrap: wrap;
  }

  form .space-x-4 {
    gap: 0.5rem;
  }
}

/* ============================================
   9. IMAGES - Images trop grandes
   ============================================ */

img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Images dans les cards */
.aspect-square img,
.aspect-video img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ============================================
   10. PRIX ET NOMBRES - Débordent sur mobile
   ============================================ */

@media (max-width: 640px) {
  /* Prix longs */
  .text-3xl,
  .text-4xl,
  .text-5xl {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
  }

  /* Prix dans cards */
  .group.bg-white .font-bold {
    font-size: 1rem !important;
    white-space: nowrap;
  }
}

/* ============================================
   11. BOUTONS - Texte qui déborde
   ============================================ */

@media (max-width: 640px) {
  button {
    max-width: 100%;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Boutons avec icônes */
  button svg {
    flex-shrink: 0;
  }

  /* Texte des boutons */
  button span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Boutons call-to-action */
  .bg-gradient-primary,
  .bg-gradient-secondary {
    font-size: 0.875rem !important;
    padding: 0.75rem 1rem !important;
  }
}

/* ============================================
   12. FOOTER - Colonnes qui débordent
   ============================================ */

@media (max-width: 768px) {
  footer {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  footer .grid {
    grid-template-columns: 1fr !important;
  }

  footer h4,
  footer p,
  footer a {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Newsletter input */
  footer input[type="email"] {
    max-width: 100% !important;
  }
}

/* ============================================
   13. MODAL - Modal qui déborde
   ============================================ */

@media (max-width: 768px) {
  /* Modal container */
  .fixed.inset-0 > div {
    max-width: 100vw !important;
    max-height: 100vh !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }

  /* Modal content */
  .fixed.inset-0 > div > * {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Texte dans modal */
  .fixed.inset-0 p,
  .fixed.inset-0 h1,
  .fixed.inset-0 h2,
  .fixed.inset-0 h3 {
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
}

/* ============================================
   14. CHECKOUT - Résumé commande
   ============================================ */

@media (max-width: 768px) {
  /* Items panier */
  .flex.items-center.gap-4 {
    gap: 0.5rem !important;
    flex-wrap: wrap;
  }

  /* Noms produits dans panier */
  .flex.items-center.gap-4 h3,
  .flex.items-center.gap-4 p {
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
  }

  /* Prix dans résumé */
  .text-right {
    white-space: nowrap;
  }
}

/* ============================================
   15. BREADCRUMBS - Fil d'ariane
   ============================================ */

@media (max-width: 640px) {
  /* Breadcrumbs */
  nav[aria-label="breadcrumb"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  nav[aria-label="breadcrumb"] ol {
    flex-wrap: nowrap;
    white-space: nowrap;
  }
}

/* ============================================
   16. BADGES - Badges de statut
   ============================================ */

@media (max-width: 640px) {
  /* Badges */
  .badge,
  .rounded-full {
    font-size: 0.75rem !important;
    padding: 0.25rem 0.5rem !important;
    white-space: nowrap;
  }

  /* Badge dans cart */
  .absolute.-top-1.-right-1 {
    font-size: 0.625rem !important;
  }
}

/* ============================================
   17. FLEX CONTAINERS - Espaces qui poussent
   ============================================ */

@media (max-width: 768px) {
  /* Réduire les gaps */
  .gap-8 {
    gap: 1rem !important;
  }

  .gap-6 {
    gap: 0.75rem !important;
  }

  .gap-4 {
    gap: 0.5rem !important;
  }

  .space-x-8 > * + * {
    margin-left: 1rem !important;
  }

  .space-x-6 > * + * {
    margin-left: 0.75rem !important;
  }

  .space-x-4 > * + * {
    margin-left: 0.5rem !important;
  }
}

/* ============================================
   18. STATS CARDS - Dashboard
   ============================================ */

@media (max-width: 640px) {
  /* Stats cards */
  .bg-white.rounded-2xl h3,
  .bg-white.rounded-2xl p {
    font-size: 0.875rem !important;
  }

  .bg-white.rounded-2xl .text-3xl,
  .bg-white.rounded-2xl .text-4xl {
    font-size: 1.5rem !important;
  }
}

/* ============================================
   19. SEARCH BAR - Barre de recherche mobile
   ============================================ */

@media (max-width: 768px) {
  /* Search input mobile */
  input[type="search"],
  input[placeholder*="Rechercher"] {
    padding-right: 3rem !important;
  }

  /* Bouton rechercher qui déborde */
  .absolute.right-2 {
    display: none;
  }
}

/* ============================================
   20. FIX SPÉCIFIQUE POUR PETITS ÉCRANS
   ============================================ */

@media (max-width: 375px) {
  /* iPhone SE, petits Android */
  
  /* Réduire encore plus les paddings */
  .container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Texte plus petit */
  body {
    font-size: 0.875rem !important;
  }

  /* Boutons plus petits */
  button {
    font-size: 0.75rem !important;
    padding: 0.5rem 0.75rem !important;
  }

  /* Grille une seule colonne */
  .grid {
    grid-template-columns: 1fr !important;
  }
}

/* ============================================
   21. ANIMATIONS - Réduire mouvement
   ============================================ */

@media (max-width: 768px) {
  /* Désactiver translate qui peut causer débordement */
  .translate-x-full,
  .translate-x-1\/2,
  .-translate-x-full,
  .-translate-x-1\/2 {
    transform: none !important;
  }
}

/* ============================================
   22. Z-INDEX - Éléments qui se superposent
   ============================================ */

/* Assurer que tout reste dans l'écran */
.fixed,
.absolute {
  max-width: 100vw;
}

/* Toast au-dessus de tout */
.z-\[9999\] {
  z-index: 9999 !important;
}

/* Header sticky */
.sticky.top-0 {
  z-index: 50;
}

/* ============================================
   23. PRINT - Impression
   ============================================ */

@media print {
  /* Masquer éléments non imprimables */
  .fixed,
  .sticky,
  button,
  .z-50 {
    display: none !important;
  }

  /* Tout en pleine largeur */
  * {
    max-width: 100% !important;
  }
}

